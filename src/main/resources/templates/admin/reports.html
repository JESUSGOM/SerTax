<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" th:replace="~{admin/layout :: layout(~{::title}, ~{::div.content-fragment})}">
<head>
    <title>Informes y Estadísticas</title>
    <style>
        .report-section { margin-top: 30px; border: 1px solid #ddd; padding: 20px; border-radius: 5px; }
        .report-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
        .report-card { border: 1px solid #ccc; padding: 20px; text-align: center; border-radius: 5px; }
        .report-card h3 { margin: 0; font-size: 2.5em; }
    </style>
</head>
<body>
<div class="content-fragment">
    <div class="report-section">
        <h2>Análisis de Valoración del Servicio</h2>

        <div th:if="${ratingStats.totalRatings > 0}">
            <div class="report-grid">
                <div class="report-card">
                    <h3 th:text="${ratingStats.totalRatings}">0</h3>
                    <p>Valoraciones Totales</p>
                </div>
                <div class="report-card">
                    <h3 th:text="${ratingStats.overallAverageRating}">0.0</h3>
                    <p>Puntuación Media</p>
                </div>
            </div>

            <h3 style="margin-top: 30px;">Distribución de Puntuaciones</h3>
            <table>
                <thead>
                <tr>
                    <th>Puntuación (Estrellas)</th>
                    <th>Número de Votos</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="entry : ${ratingStats.ratingDistribution}">
                    <td th:text="${entry.key} + ' ★'">5 ★</td>
                    <td th:text="${entry.value}">150</td>
                </tr>
                </tbody>
            </table>
        </div>

        <div th:if="${ratingStats.totalRatings == 0}">
            <p>Aún no hay valoraciones de servicio para mostrar estadísticas.</p>
        </div>
    </div>

</div>
</body>
</html>